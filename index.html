<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Pet Pooja Home Kitchen</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">

<style>
:root{--accent:#d35400;--bg:#fff8f2;--text:#2c3e50;}
*{margin:0;padding:0;box-sizing:border-box;}
body{font-family:Inter,sans-serif;background:var(--bg);color:var(--text);}

nav{padding:20px 8%;display:flex;justify-content:space-between;background:#fff;border-bottom:1px solid #eee;}
.logo{font-family:Playfair Display,serif;font-size:1.7rem;}
.logo span{color:var(--accent);}

header{text-align:center;padding:60px 8% 40px;}
.container{max-width:1200px;margin:auto;padding:0 8% 80px;}

.menu-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(240px,1fr));gap:30px;}
.food-card{background:#fff;border-radius:15px;overflow:hidden;box-shadow:0 5px 15px rgba(0,0,0,0.05);}
.food-card img{width:100%;height:200px;object-fit:cover;}
.card-info{text-align:center;padding:20px;}
.price{color:var(--accent);font-weight:600;}
.add-btn{background:var(--text);color:#fff;border:none;padding:8px 22px;border-radius:20px;}

.qty{display:flex;justify-content:center;gap:10px;}
.qty button{width:26px;height:26px;border-radius:50%;border:1px solid #ccc;background:none;}

.panel{background:#fff;padding:30px;border-radius:18px;box-shadow:0 5px 15px rgba(0,0,0,0.05);}
.order-section{display:grid;grid-template-columns:1fr 380px;gap:40px;margin-top:80px;}
@media(max-width:900px){.order-section{grid-template-columns:1fr;}}

.cart-row{display:flex;justify-content:space-between;padding:8px 0;border-bottom:1px solid #f5f5f5;}
input,select,textarea{width:100%;padding:12px;margin-bottom:15px;border-radius:10px;border:1px solid #ddd;}
.whatsapp-btn{width:100%;background:#25D366;color:#fff;border:none;padding:14px;border-radius:12px;font-weight:600;}

.admin{
  background:#111;color:#fff;padding:20px;margin:20px 0;border-radius:10px;
}
.admin h3{margin-bottom:10px;}
.admin label{display:block;margin:6px 0;}
.admin button{margin-top:10px;padding:6px 12px;border:none;border-radius:6px;cursor:pointer;}

footer{text-align:center;padding:40px;border-top:1px solid #eee;color:#777;}
</style>
</head>

<body>

<nav>
  <div class="logo">Pet <span>Pooja</span></div>
  <div>Home Kitchen</div>
</nav>

<header>
<h1>Ghar Jaisa Khana,<br>Har Din Fresh</h1>
</header>

<div class="container">

<!-- ADMIN PANEL -->
<div id="adminPanel" class="admin" style="display:none;">
  <h3>üîê Admin Panel</h3>

  <label>
    <input type="checkbox" id="kitchenToggle"> Kitchen Open
  </label>

  <h4>Today's Menu</h4>
  <div id="menuToggles"></div>

  <h4>üìä Today's Sales</h4>
  <p>Orders: <strong><span id="todayOrders">0</span></strong></p>
  <p>Revenue: ‚Çπ <strong><span id="todayRevenue">0</span></strong></p>

  <h4>üîë Change Admin PIN</h4>
  <input id="newPin" placeholder="New PIN">
  <button onclick="changePin()">Change PIN</button>

  <button onclick="logoutAdmin()" style="background:#d35400;color:#fff;">Logout Admin</button>
</div>

<h2 style="text-align:center;color:var(--accent);">Today's Menu</h2>
<div class="menu-grid" id="menuBox"></div>

<div class="order-section">

<div class="panel">
<h3>Your Order</h3>
<div id="cartBox">Add items to start</div>
<p>Total: ‚Çπ <span id="grandTotal">0</span></p>
</div>

<div class="panel">
<h3>Details</h3>
<form onsubmit="placeOrder(event)">
<input id="name" placeholder="Name" required>
<input id="phone" placeholder="10-digit mobile" pattern="[6-9][0-9]{9}" required>
<select id="society" required>
<option value="">Select Society</option>
<option value="Sanskriti">Sanskriti Apartment</option>
<option value="Other">Other Society</option>
</select>
<textarea id="address" placeholder="Address"></textarea>
<textarea id="note" placeholder="Notes"></textarea>
<button class="whatsapp-btn">Order on WhatsApp</button>
</form>
</div>

</div>
</div>

<footer>
<a href="terms.html" target="_blank">Terms</a> |
<a href="privacy.html" target="_blank">Privacy</a>
<p>¬© 2026 Pet Pooja Home Kitchen</p>
</footer>

<script>
/* ===== ADMIN PIN SYSTEM ===== */
let ADMIN_PIN = localStorage.getItem("ADMIN_PIN") || "2580";
let adminUnlocked = false;

/* ===== KITCHEN CONFIG ===== */
let kitchenOpen = JSON.parse(localStorage.getItem("kitchenOpen")) ?? true;

/* ===== MENU ===== */
let menu = JSON.parse(localStorage.getItem("menu")) || [
   {id:1,name:"Paneer Dosa",price:120,img:"dosa.png",enabled:true},
 {id:2,name:"Masala Dosa",price:100,img:"masala-dosa.png",enabled:true},
 {id:3,name:"Idli Sambhar",price:60,img:"idli-sambar.png",enabled:true},
 {id:4,name:"Kadhi Chawal",price:70,img:"kadhi-chawal.png",enabled:true},
 {id:5,name:"Aloo Paratha",price:60,img:"aloo-paratha.png",enabled:true},
 {id:6,name:"Pyaj Paratha",price:80,img:"onion-paratha.png",enabled:true},
 {id:7,name:"Mix Veg",price:70,img:"mix-veg.png",enabled:true},
 {id:8,name:"Tawa Roti",price:6,img:"tawa-roti.png",enabled:true}
];

let cart = {};
let orders = JSON.parse(localStorage.getItem("orders")) || [];

/* ===== ADMIN ACCESS ===== */
function verifyAdmin(){
  const pin = prompt("Enter Admin PIN:");
  if(pin !== ADMIN_PIN){
    alert("Incorrect PIN");
    location.hash="";
    return false;
  }
  adminUnlocked = true;
  return true;
}

if(location.hash==="#admin"){
  if(verifyAdmin()){
    adminPanel.style.display="block";
    kitchenToggle.checked = kitchenOpen;
    renderAdmin();
  }
}

function logoutAdmin(){
  adminUnlocked=false;
  adminPanel.style.display="none";
  location.hash="";
}

/* ===== ADMIN FUNCTIONS ===== */
kitchenToggle.onchange = ()=>{
  kitchenOpen = kitchenToggle.checked;
  localStorage.setItem("kitchenOpen",JSON.stringify(kitchenOpen));
};

function toggleMenu(id){
  menu = menu.map(m=>m.id===id?{...m,enabled:!m.enabled}:m);
  localStorage.setItem("menu",JSON.stringify(menu));
  loadMenu();
}

function changePin(){
  const p = newPin.value.trim();
  if(p.length<4){alert("PIN must be at least 4 digits");return;}
  ADMIN_PIN = p;
  localStorage.setItem("ADMIN_PIN",p);
  alert("Admin PIN updated successfully");
  newPin.value="";
}

function renderAdmin(){
  menuToggles.innerHTML = menu.map(m=>`
    <label>
      <input type="checkbox" ${m.enabled?"checked":""} onchange="toggleMenu(${m.id})">
      ${m.name}
    </label>
  `).join("");

  const today = new Date().toDateString();
  let count=0,sum=0;
  orders.filter(o=>o.date===today).forEach(o=>{
    count++; sum+=o.total;
  });
  todayOrders.innerText=count;
  todayRevenue.innerText=sum;
}

/* ===== MENU UI ===== */
function loadMenu(){
  menuBox.innerHTML = menu.filter(m=>m.enabled).map(i=>{
    const q = cart[i.id]?.q || 0;
    return `
    <div class="food-card">
      <img src="${i.img}">
      <div class="card-info">
        <h4>${i.name}</h4>
        <div class="price">‚Çπ${i.price}</div>
        ${q===0
          ? `<button class="add-btn" onclick="add(${i.id})">Add</button>`
          : `<div class="qty">
              <button onclick="change(${i.id},-1)">‚àí</button>
              <span>${q}</span>
              <button onclick="change(${i.id},1)">+</button>
            </div>`}
      </div>
    </div>`;
  }).join("");
}

/* ===== CART ===== */
function add(id){
  cart[id]?cart[id].q++:cart[id]={...menu.find(m=>m.id===id),q:1};
  render();
}
function change(id,d){
  cart[id].q+=d;
  if(cart[id].q<=0) delete cart[id];
  render();
}
function render(){
  let total=0, html="";
  for(let id in cart){
    total+=cart[id].price*cart[id].q;
    html+=`<div class="cart-row">${cart[id].name} √ó ${cart[id].q}</div>`;
  }
  cartBox.innerHTML = html || "Add items to start";
  grandTotal.innerText = total;
  loadMenu();
}

/* ===== ORDER ===== */
function placeOrder(e){
  e.preventDefault();
  if(!kitchenOpen){alert("Kitchen closed");return;}
  if(Object.keys(cart).length===0){alert("Cart empty");return;}

  const total = Number(grandTotal.innerText);
  orders.push({
    id:"PPK-"+Date.now(),
    total,
    date:new Date().toDateString()
  });
  localStorage.setItem("orders",JSON.stringify(orders));

  let items="";
  for(let i in cart){items+=`‚Ä¢ ${cart[i].name} x ${cart[i].q}%0A`;}

  const msg =
`Pet Pooja Home Kitchen%0A
Order ID: PPK-${Date.now()}%0A
${items}
Total: ‚Çπ${total}%0A
UPI: 9015489060@paytm%0A
Order confirmed after payment`;

  window.open(`https://wa.me/919971499087?text=${msg}`);
}

loadMenu();
</script>

</body>
</html>
