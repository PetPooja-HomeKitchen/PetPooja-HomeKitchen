<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pet Pooja | Home Kitchen</title>
  
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&family=Playfair+Display:ital,wght@0,600;1,600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

  <style>
    :root {
      --accent: #d35400;
      --text: #2c3e50;
      --bg: #fdfcfb;
      --white: #ffffff;
      --glass: rgba(255, 255, 255, 0.8);
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { 
      font-family: 'Inter', sans-serif; 
      background-color: var(--bg); 
      color: var(--text);
      -webkit-font-smoothing: antialiased;
    }

    /* --- Elegant Navigation --- */
    nav {
      padding: 25px 8%;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--glass);
      backdrop-filter: blur(10px);
      position: sticky;
      top: 0;
      z-index: 1000;
      border-bottom: 1px solid rgba(0,0,0,0.05);
    }
    .logo { 
      font-family: 'Playfair Display', serif; 
      font-size: 1.8rem; 
      font-weight: 600; 
      letter-spacing: -1px;
    }
    .logo span { color: var(--accent); font-style: italic; }

    /* --- Hero Section --- */
    header {
      padding: 80px 8% 40px;
      text-align: center;
    }
    header h1 { 
      font-family: 'Playfair Display', serif; 
      font-size: clamp(2.5rem, 5vw, 4rem); 
      font-weight: 600;
      line-height: 1.2;
      margin-bottom: 20px;
    }
    header p { 
      font-size: 1.1rem; 
      color: #7f8c8d; 
      max-width: 600px; 
      margin: 0 auto;
      font-weight: 300;
    }

    .container { max-width: 1200px; margin: 0 auto; padding: 0 8% 100px; }

    /* --- History Notification --- */
    #historyBox {
      background: #fff;
      border-left: 4px solid var(--accent);
      padding: 20px;
      margin-bottom: 40px;
      border-radius: 8px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.05);
      display: none;
    }

    /* --- Menu Cards --- */
    .menu-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
      gap: 40px;
      margin-top: 50px;
    }
    .food-card {
      background: var(--white);
      border-radius: 20px;
      overflow: hidden;
      transition: transform 0.4s ease, box-shadow 0.4s ease;
      border: 1px solid rgba(0,0,0,0.03);
    }
    .food-card:hover {
      transform: translateY(-10px);
      box-shadow: 0 20px 40px rgba(0,0,0,0.08);
    }
    .img-box { width: 100%; height: 240px; overflow: hidden; }
    .img-box img { width: 100%; height: 100%; object-fit: cover; transition: transform 0.6s ease; }
    .food-card:hover .img-box img { transform: scale(1.1); }
    
    .card-info { padding: 25px; text-align: center; }
    .card-info h3 { font-family: 'Playfair Display', serif; font-size: 1.4rem; margin-bottom: 8px; }
    .price-tag { 
      display: block; 
      font-size: 1.2rem; 
      color: var(--accent); 
      font-weight: 600; 
      margin-bottom: 20px; 
    }
    
    .add-btn {
      background: var(--text);
      color: #fff;
      border: none;
      padding: 12px 30px;
      border-radius: 50px;
      font-size: 0.9rem;
      font-weight: 600;
      cursor: pointer;
      transition: 0.3s;
      letter-spacing: 1px;
    }
    .add-btn:hover { background: var(--accent); }

    /* --- Checkout Section --- */
    .order-section {
      display: grid;
      grid-template-columns: 1fr 400px;
      gap: 60px;
      margin-top: 100px;
      align-items: start;
    }
    @media (max-width: 900px) { .order-section { grid-template-columns: 1fr; } }

    .panel { background: #fff; padding: 40px; border-radius: 24px; box-shadow: 0 10px 40px rgba(0,0,0,0.03); }
    .panel h2 { font-family: 'Playfair Display', serif; margin-bottom: 30px; font-size: 1.8rem; }

    .cart-row { display: flex; justify-content: space-between; align-items: center; padding: 15px 0; border-bottom: 1px solid #f9f9f9; }
    .qty-control { display: flex; align-items: center; gap: 12px; }
    .qty-btn { width: 28px; height: 28px; border-radius: 50%; border: 1px solid #eee; background: none; cursor: pointer; }

    /* --- Inputs --- */
    .form-group { margin-bottom: 20px; }
    label { display: block; font-size: 0.75rem; font-weight: 600; text-transform: uppercase; letter-spacing: 1px; margin-bottom: 8px; color: #95a5a6; }
    input, textarea {
      width: 100%; padding: 15px; border-radius: 12px; border: 1px solid #f0f0f0; background: #f9f9f9; font-size: 1rem; outline: none; transition: 0.3s;
    }
    input:focus { border-color: var(--accent); background: #fff; }

    .whatsapp-btn {
      width: 100%; padding: 20px; background: #25D366; color: #fff; border: none; border-radius: 15px; font-size: 1rem; font-weight: 600; cursor: pointer; display: flex; align-items: center; justify-content: center; gap: 10px; margin-top: 20px;
    }

    footer { padding: 60px 8%; text-align: center; border-top: 1px solid #eee; margin-top: 50px; }
    .footer-logo { font-family: 'Playfair Display', serif; font-size: 1.5rem; margin-bottom: 10px; }
  </style>
</head>
<body>

<nav>
  <div class="logo">Pet <span>Pooja.</span></div>
  <div style="font-size: 0.75rem; font-weight: 600; letter-spacing: 1px; color: #95a5a6;">SANSKRITI APARTMENT</div>
</nav>

<header>
  <h1>Made at home, <br> <span>just for you.</span></h1>
  <p>Fresh ingredients, traditional recipes, and a dash of love. Your premium home kitchen takeaway in the heart of the city.</p>
</header>

<div class="container">
  
  <div id="historyBox">
    <p style="text-transform: uppercase; font-size: 0.7rem; font-weight: 700; color: var(--accent); margin-bottom: 10px;">Your Active Order</p>
    <div id="historyData" style="font-size: 1rem; line-height: 1.6;"></div>
  </div>

  <div class="menu-grid" id="menuDisplay"></div>

  <div class="order-section">
    <div class="panel">
      <h2>Your Basket</h2>
      <div id="cartDisplay">
        <p style="color: #bdc3c7; text-align: center; padding: 30px;">Choose something delicious to begin.</p>
      </div>
      <div style="margin-top: 30px; padding-top: 20px; border-top: 1px solid #f9f9f9; display: flex; justify-content: space-between; align-items: center;">
        <span style="font-weight: 600;">Total</span>
        <span style="font-size: 1.8rem; font-weight: 600; color: var(--accent);">₹<span id="grandTotal">0</span></span>
      </div>
    </div>

    <div class="panel">
      <h2>Pickup Details</h2>
      <form onsubmit="checkout(event)">
        <div class="form-group">
          <label>Full Name</label>
          <input type="text" id="custName" placeholder="Enter name" required>
        </div>
        <div class="form-group">
          <label>Mobile Number</label>
          <input type="tel" id="custPhone" placeholder="Enter number" required>
        </div>
        <div class="form-group">
          <label>Notes</label>
          <textarea id="custNotes" rows="2" placeholder="Spice level, etc."></textarea>
        </div>
        <button type="submit" class="whatsapp-btn">
          <i class="fab fa-whatsapp"></i> PLACE ORDER
        </button>
      </form>
    </div>
  </div>
</div>

<footer>
  <div class="footer-logo">Pet Pooja.</div>
  <p style="font-size: 0.9rem; color: #95a5a6;">Sanskriti Apartment | +91 9971499087</p>
</footer>

<script>
  const menuData = [
    { id: 1, name: "Paneer Masala Dosa", price: 120, img: "https://images.unsplash.com/photo-1668236543090-82eba5ee5976?auto=format&fit=crop&w=600" },
    { id: 2, name: "Butter Masala Dosa", price: 100, img: "https://images.unsplash.com/photo-1589302168068-964664d93dc0?auto=format&fit=crop&w=600" },
    { id: 3, name: "Soft Idli Sambhar", price: 60, img: "https://images.unsplash.com/photo-1589301773521-cf9063301702?auto=format&fit=crop&w=600" },
    { id: 4, name: "Curry Rice Bowl", price: 80, img: "https://images.unsplash.com/photo-1546833999-b9f581602b70?auto=format&fit=crop&w=600" }
  ];

  let cart = {};

  function start() {
    const grid = document.getElementById('menuDisplay');
    grid.innerHTML = menuData.map(item => `
      <div class="food-card">
        <div class="img-box"><img src="${item.img}" alt="${item.name}"></div>
        <div class="card-info">
          <h3>${item.name}</h3>
          <span class="price-tag">₹${item.price}</span>
          <button class="add-btn" onclick="addToCart(${item.id})">Add to Basket</button>
        </div>
      </div>
    `).join('');
    
    checkHistory();
  }

  function addToCart(id) {
    if (cart[id]) cart[id].qty++;
    else cart[id] = { ...menuData.find(i => i.id === id), qty: 1 };
    renderCart();
  }

  function changeQty(id, delta) {
    cart[id].qty += delta;
    if (cart[id].qty <= 0) delete cart[id];
    renderCart();
  }

  function renderCart() {
    const box = document.getElementById('cartDisplay');
    const totalEl = document.getElementById('grandTotal');
    let total = 0, html = '';

    for (const id in cart) {
      const item = cart[id];
      total += item.price * item.qty;
      html += `
        <div class="cart-row">
          <div><p style="font-weight:600;">${item.name}</p></div>
          <div class="qty-control">
            <button class="qty-btn" onclick="changeQty(${id}, -1)">-</button>
            <span>${item.qty}</span>
            <button class="qty-btn" onclick="changeQty(${id}, 1)">+</button>
          </div>
        </div>`;
    }
    box.innerHTML = html || '<p style="color: #bdc3c7; text-align: center; padding: 30px;">Choose something delicious to begin.</p>';
    totalEl.innerText = total;
  }

  function checkout(e) {
    e.preventDefault();
    if (Object.keys(cart).length === 0) return alert("Your basket is empty!");

    const name = document.getElementById('custName').value;
    const notes = document.getElementById('custNotes').value;
    let textItems = "";
    let grandTotal = 0;

    for (const id in cart) {
      textItems += `• ${cart[id].name} x ${cart[id].qty}%0A`;
      grandTotal += cart[id].price * cart[id].qty;
    }

    // Save history for 30 min refresh
    const orderData = {
      summary: textItems.replace(/%0A/g, "<br>"),
      total: grandTotal,
      timestamp: new Date().getTime()
    };
    localStorage.setItem('petPoojaLastOrder', JSON.stringify(orderData));

    const msg = `*PET POOJA ORDER*%0A*Customer:* ${name}%0A*Items:*%0A${textItems}*Total: ₹${grandTotal}*%0A*Notes:* ${notes}`;
    window.open(`https://wa.me/919971499087?text=${msg}`, '_blank');
    
    setTimeout(() => { location.reload(); }, 1000);
  }

  function checkHistory() {
    const saved = localStorage.getItem('petPoojaLastOrder');
    if (!saved) return;

    const data = JSON.parse(saved);
    const now = new Date().getTime();
    if (now - data.timestamp < (30 * 60 * 1000)) {
      document.getElementById('historyBox').style.display = 'block';
      document.getElementById('historyData').innerHTML = `
        ${data.summary}
        <strong style="display:block; margin-top:10px; color:var(--text);">Total: ₹${data.total}</strong>
      `;
    } else {
      localStorage.removeItem('petPoojaLastOrder');
    }
  }

  start();
</script>
</body>
</html>

